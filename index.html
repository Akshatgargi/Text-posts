<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sample----App</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
           .context-menu {
        display: none;
        position: absolute;
        z-index: 10;
    }
        *{
    margin: 0px;
    padding: 3px;
}
body{
    font-family: cursive;
    height: 100vh;
    width: 97vw;
}
form{
    width: 97vw;
    display: flex;
    align-items: center;
    flex-direction: column;
    justify-content: center;
}input,textarea{
    background: lightpink;
}
#title{
    border-radius: 10px;
    width: 50vh;
    height: 30px;
}
#des{
    margin-top: 6px;
    border-radius: 10px;
    min-width: 90vh;
    height: 80px;
}
#bu{
    height: 40px;
    width: 100px;
    margin-top: 10px;
    background-color: rgb(75, 124, 75);
    color: white;
    border-radius: 8px;
}
.head{
    width: 100%;
    display: flex;
    align-items: center;
 
 
    justify-content: center;
}
.post{
    border-radius: 8px;
    border: 1px solid grey;
    margin: 5px;
    background: rgb(218, 215, 215);
}
.posts{
    padding: 5px;
    min-height: 400px;
    overflow-y: auto;
    max-height: 400px;
    border: 2px solid grey;
}
body{
    background: linear-gradient(lightpink,lightblue);
}
    </style>
</head>
<body>
    <h1>Quoting</h1>
    <h2>
        Post something;
    </h2>
    <form action="/" method="post">
        <label for="title">Title:</label>
        <input type="text" id="title" name="title" placeholder="Your Title...."  required/>
        
        <label for="description">Description:</label>
        <textarea id="description" name="description" placeholder="Your description...." required></textarea>
        
        <button id="bu">Post</button>
    </form>
    <!-- Context Menu -->
<div class="context-menu">
    <div
        class="bg-white w-60 border border-gray-300 rounded-lg flex flex-col text-sm py-4 px-2 text-gray-500 shadow-lg">
        <div class="flex hover:bg-gray-100 py-1 px-2 rounded cursor-pointer">
            <div class="w-5 text-gray-900">
                <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM10.5 7.5v6m3-3h-6"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
            <div class="ml-4">Zoom</div>
        </div>
        <div class="flex hover:bg-gray-100 py-1 px-2 rounded cursor-pointer">
            <div class="w-5 text-gray-900">
                <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607zM13.5 10.5h-6"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
            <div class="ml-4">Zoom Out</div>
        </div>
        <div class="flex hover:bg-gray-100 py-1 px-2 rounded cursor-pointer" onclick="fullscreen()">
            <div class="w-5 text-gray-900">
                <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
            <div class="ml-3">Full Screen</div>
        </div>
        <div class="flex hover:bg-gray-100 py-1 px-2 rounded cursor-pointer">
            <div class="w-5 text-gray-900">
                <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
            <div class="ml-3">Share</div>
        </div>
        <hr class="my-3 border-gray-300" />
        <div class="flex hover:bg-gray-100 py-1 px-2 rounded cursor-pointer">
            <div class="w-5 text-gray-900 font-bold">
                <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path d="M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75" stroke-linecap="round"
                        stroke-linejoin="round"></path>
                </svg>
            </div>
            <div class="ml-3">Go Back</div>
        </div>
        <div class="flex hover:bg-gray-100 py-1 px-2 rounded cursor-pointer">
            <div class="w-5 text-gray-900">
                <svg aria-hidden="true" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M21 12a2.25 2.25 0 00-2.25-2.25H15a3 3 0 11-6 0H5.25A2.25 2.25 0 003 12m18 0v6a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 9m18 0V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v3"
                        stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
            </div>
            <div class="ml-3">Add to Wallet</div>
        </div>
    </div>
</div>
<!-- Context Menu -->
    <div class="head"><h1>Other posts</h1></div>
    <div class="posts" id="posts-container">
       <div class="post">
    </div>
    </div>

     

</body>
<script>
var menu = document.querySelector(".context-menu");
var menuState = 0;
var contextMenuActive = "block";
function toggleMenuOn() {
  if (menuState !== 1) {
    menuState = 1;
    menu.classList.add(contextMenuActive);
  }
}
// Turns the custom context menu off.
function toggleMenuOff() {
  if (menuState !== 0) {
    menuState = 0;
    menu.classList.remove(contextMenuActive);
  }
}
// Get the position of the right-click in window and returns the X and Y coordinates
function getPosition(e) {
  var posx = 0;
  var posy = 0;

  if (!e) var e = window.event;

  if (e.pageX || e.pageY) {
    posx = e.pageX;
    posy = e.pageY;
  } else if (e.clientX || e.clientY) {
    posx =
      e.clientX +
      document.body.scrollLeft +
      document.documentElement.scrollLeft;
    posy =
      e.clientY + document.body.scrollTop + document.documentElement.scrollTop;
  }

  return {
    x: posx,
    y: posy
  };
}
// Position the Context Menu in right position.
function positionMenu(e) {
  let clickCoords = getPosition(e);
  let clickCoordsX = clickCoords.x;
  let clickCoordsY = clickCoords.y;

  let menuWidth = menu.offsetWidth + 4;
  let menuHeight = menu.offsetHeight + 4;

  let windowWidth = window.innerWidth;
  let windowHeight = window.innerHeight;

  if (windowWidth - clickCoordsX < menuWidth) {
    menu.style.left = windowWidth - menuWidth + "px";
  } else {
    menu.style.left = clickCoordsX + "px";
  }

  if (windowHeight - clickCoordsY < menuHeight) {
    menu.style.top = windowHeight - menuHeight + "px";
  } else {
    menu.style.top = clickCoordsY + "px";
  }
}
// Event Listener for window ContextMenu Event - When Right Click is clicked
document.addEventListener("contextmenu", function (event) {
  event.preventDefault();
  toggleMenuOn();
  positionMenu(event);
});
// Event Listener for Close Context Menu when outside of menu clicked
document.addEventListener("click", (e) => {
  var button = e.which || e.button;
  if (button === 1) {
    toggleMenuOff();
  }
});

// Close Context Menu on Esc key press
window.onkeyup =  (e)=> {
  if (e.keyCode === 27) {
    toggleMenuOff();
  }}
    fetch('/rd')
        .then(response => response.json())
        .then(data => {
            console.log("Retrieved data:", data);
            const postsContainer = document.getElementById('posts-container');
            
            // Clear existing posts
            postsContainer.innerHTML = '';
            
            // Loop through each post and create HTML elements for them
            data.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post';
                postElement.innerHTML = `
                    <div class="title">${post.title}</div>
                    <div class="des">${post.description}</div>
                `;
                postsContainer.appendChild(postElement);
            });
        })
        .catch(error => {
            console.error("Error retrieving data:", error);
        });


</script>
</html>
